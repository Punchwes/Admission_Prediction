<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Overseas for You</title>

    <!-- Bootstrap Core CSS -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Main stylesheet -->
    <link href="static/css/hallooou.css" rel="stylesheet">

    <!-- Color stylesheet -->
    <!-- <link href="static/css/colors.css" rel="stylesheet">
    <link href="static/css/colors_2.css" rel="stylesheet">
    <link href="static/css/colors_3.css" rel="stylesheet">
    <link href="static/css/colors_4.css" rel="stylesheet"> -->


    <!-- Plugin stylesheets -->
    <link href="static/css/plugins/owl.carousel.css" rel="stylesheet">
    <link href="static/css/plugins/owl.theme.css" rel="stylesheet">
    <link href="static/css/plugins/owl.transitions.css" rel="stylesheet">
    <link href="static/css/plugins/animate.css" rel="stylesheet">
    <link href="static/css/plugins/magnific-popup.css" rel="stylesheet">
    <link href="static/css/plugins/jquery.mb.YTPlayer.min.css" rel="stylesheet">


    <!-- Custom Fonts -->
    <link href="static/css/font-awesome.min.css" rel="stylesheet">
<!--     <link href='http://fonts.googleapis.com/css?family=Raleway:100,600' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <script>
        document.createElement('video');
      </script>
    <![endif]-->

</head>

<body id="home">
            <!-- Navigation -->





            <!-- Intro Header -->
            <!-- Full Page Image Background Carousel Header -->
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                <div class="container">
                    <div class="navbar-header pull-left">
                        <a class="navbar-brand page-scroll" href="#page-top">
                            <!-- replace with your brand logo/text -->
                            <span class="brand-logo"><img src="static/images/logo.svg" onerror="this.src='static/images/logo.png'; this.onerror=null;" alt="Hallooou - HTML5 Template" title="留学指南" class="img-responsive"></span>
                        </a>
                    </div>

                    <div class="main-nav pull-right">
                        <div class="button_container toggle">
                            <span class="top"></span>
                            <span class="middle"></span>
                            <span class="bottom"></span>
                        </div>
                    </div>
                    <div class="overlay" id="overlay">
                        <nav class="overlay-menu">
                            <ul>
                                <li><a href="home">主页</a></li>
                                <li><a href="show">数据展示</a></li>
                            </ul>
                        </nav>
                    </div>
                </div><!-- /.container -->
            </nav>




            <!-- About Section -->




            <!-- Services Section -->




            <!-- Products Section -->




            <!-- Our team Section -->




            <!-- Portfolio/Gallery Section -->
 



            <!-- Our clients -->
 



            <!-- Testimonials Section -->
  



            <!-- Call to action - one section -->




            <!-- Contact section -->
            <section id="contact" class="contact content-section no-bottom-pad">
                <div class="container">
                    <div class="row text-center">
                        <div class="col-md-12">
                            <h2>测试一下你被录取的概率吧！！</h2>
                            <h3 class="caption gray">请按照自己实际情况填写下表，完成后点击预测</h3>
                        </div><!-- /.col-md-12 -->

                    </div><!-- /.row -->
                </div><!-- /.container -->

                <div class="container">
                    <div class="row form-container">

                        <!-- <div class="col-md-7 contact-form"> -->
                            
                            <form class="ajax-form" id="contactForm" method="post" >
                            	
                                <div class="col-xs-4 form-group" align="center" >
                                <h4>申请情况</h4>
                                    <input type="text" class="form-control" list='AppliedSchool' name="AppliedSchool" placeholder="预申请学校" value="" required id='hp_AppliedSchool'>
                                    <datalist id ='AppliedSchool'>
                                    {% for list in applyschool_list %}
                                    <option value='{{list}}'>
                                    {%endfor%}
                                    </datalist>
                                    <input type="text" class="form-control" list='Major' name="Major" placeholder="预申请专业" value="" required>
                                    <datalist id ='Major'>
<!--                                     {% for list in major_list %}
                                    <option value='{{list}}'>
                                    {%endfor%} -->
                                    </datalist>
                                    <input type="text" class="form-control" list='Degree' name="Degree" placeholder="预申请学位" value="" required>
                                    <datalist id ='Degree'>
                                    {% for list in degree_list %}
                                    <option value='{{list}}'>
                                    {%endfor%}
                                    </datalist>
                                </div>
                            
                               
                               
                                <div class="col-xs-4 form-group" align="center">
                                <h4>英语及GRE成绩</h4>
                                    <input type="number" class="form-control" id="TOEFL" name="TOEFL" placeholder="你的托福成绩" value="" >
                                    <input type="number" step=0.1 class="form-control" id="IELTS" name="IELTS" placeholder="你的雅思成绩" value="" >
                                    <input type="number" class="form-control" id="GRE" name="GRE" placeholder="你的GRE成绩" value="" >
                                </div>
                                
                                
                                
                                <div class="col-md-4 form-group" align="center">
                                <h4>个人背景</h4>
                                    <input type="text" class="form-control" list='School' name="School" placeholder="你的本科学校档次" value="" required>
                                    <datalist id ='School'>
                                    {% for list in school_list %}
                                    <option value='{{list}}'>
                                    {%endfor%}
                                    </datalist>
                                    <input type="text" class="form-control" list='SchoolMajor' name="SchoolMajor" placeholder="你的本科专业" value="" required>
                                    <datalist id ='SchoolMajor'>
                                    {% for list in schoolmajor_list %}
                                    <option value='{{list}}'>
                                    {%endfor%}
                                    </datalist>
                                    <input type="number" step=0.1 class="form-control" id="GPA" name="GPA" placeholder="你的本科成绩(请按照百分制填写)" value="" required>

                                </div>
                                
<!--                                 <div class="form-group">
                                    <textarea class="form-control" rows="3" name="Other_Info" placeholder="其他说明"></textarea>
                                </div> -->
                                <div class="form-group" align="center" style="margin-bottom:100px;">
                                    <button type="submit" name="submit" class="btn btn-default"><i class="fa fa-paper-plane fa-fw"></i>预测</button>
                                </div>

                                <div class="form-group" align="center" style="margin-right: 400px; margin-bottom:100px;">
                                    <p><h4>你被录取的概率为：</h4><span id='prob' style="margin-left:350px; font-size:110px;">{{probability}}%</span></p>

                                </div>





                            </form>
                        <!-- </div> --><!-- /.contact-form -->

<!--                         <div class="col-md-4 contact-address">
                            <h3>Our address</h3>
                            <p>76 Ninth Ave,
                                <br />New York, NY 10011,
                                <br /> United States</p>
                            <ul>
                                <li><span>Email:</span>hello@hallooou.com</li>
                                <li><span>Phone:</span>+88 (0) 101 0000 000</li>
                                <li><span>Fax:</span>+88 (0) 202 0000 001</li>
                            </ul>
                        </div><!-- /.contact-address -->

                    </div><!-- /.row -->
                </div><!-- /.container -->
                </section>




            
            <!-- Footer -->




    <!-- jQuery -->
    <script src="static/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="static/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="static/js/plugins/wow.min.js"></script>
    <script src="static/js/plugins/owl.carousel.min.js"></script>
    <script src="static/js/plugins/jquery.parallax-1.1.3.js"></script>
    <script src="static/js/plugins/jquery.magnific-popup.min.js"></script>
    <script src="static/js/plugins/jquery.mb.YTPlayer.min.js"></script>
    <script src="static/js/plugins/jquery.countTo.js"></script>
    <script src="static/js/plugins/jquery.inview.min.js"></script>
    <script src="static/js/plugins/pace.min.js"></script>
    <script src="static/js/plugins/jquery.easing.min.js"></script>
    <script src="static/js/plugins/jquery.validate.min.js"></script>
    <script src="static/js/plugins/additional-methods.min.js"></script> 
<!--     <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBoVKfEihX__NdMwdDysA6Vve6PE9Ierj4"></script> -->

    <!-- Custom JavaScript -->
    <script src="static/js/hallooou.js"></script>
    <script src="static/js/jquery.min.js"></script>
    <script>
    $(document).ready(function(){
    	$('#contactForm').submit(function(){
    		var AppliedSchool=$('#id_AppliedSchool').val();
    		var Major=$('#id_Major').val();
    		var Degree=$('#id_Degree').val();
    		var TOEFL=$('#id_TOEFL').val();
    		var IELTS=$('#id_IELTS').val();
    		var GRE=$('#id_IELTS').val();
    		var School=$('#id_School').val();
    		var SchoolMajor=$('#id_SchoolMajor').val();
    		var GPA=$('#id_GPA').val();

    		$.ajax({
    			type:'POST',
    			data:{AppliedSchool:AppliedSchool,Major:Major,Degree:Degree,TOEFL:TOEFL,IELTS:IELTS,GRE:GRE,School:School,SchoolMajor:SchoolMajor,GPA:GPA},
    			url:"/predict/",
    			dataType:'html',
    			success:function(result,statues,xml){
    				alert(result);
    			}
    			error:function(){
    				alert('false');
    			}


    		});
    		return false;
    	});

    });
    </script>

    <script type='text/javascript'>
    loadXML = function(xmlFile){
        var xmlDoc=null;
        //判断浏览器的类型
        //支持IE浏览器
        if(!window.DOMParser && window.ActiveXObject){
            var xmlDomVersions = ['MSXML.2.DOMDocument.6.0','MSXML.2.DOMDocument.3.0','Microsoft.XMLDOM'];
            for(var i=0;i<xmlDomVersions.length;i++){
                try{
                    xmlDoc = new ActiveXObject(xmlDomVersions[i]);
                    break;
                }catch(e){
                }
            }
        }
        //支持Mozilla浏览器
        else if(document.implementation && document.implementation.createDocument){
            try{
                /* document.implementation.createDocument('','',null); 方法的三个参数说明
                 * 第一个参数是包含文档所使用的命名空间URI的字符串； 
                 * 第二个参数是包含文档根元素名称的字符串； 
                 * 第三个参数是要创建的文档类型（也称为doctype）
                 */
                xmlDoc = document.implementation.createDocument('','',null);
            }catch(e){
            }
        }
        else{
            return null;
        }

        if(xmlDoc!=null){
            xmlDoc.async = false;
            xmlDoc.load(xmlFile);
        }
        return xmlDoc;
    }
	</script>


	<script>
	$(document).ready(function(){


		var xmldoc=loadXML('static/xml/new_result_equal.xml');
		var records = xmldoc.getElementsByTagName("RECORD");

		$('#hp_AppliedSchool').on('input', function(){
			//var AppliedSchool1=$('#id_AppliedSchool').val();
			var AppliedSchool1=this.value;
			var major_list=document.getElementById('Major');
			$("#Major").empty();
			var majors=new Array()

			for (var i=0;i<records.length;i++){
				if (records[i].getElementsByTagName("AppliedSchool")[0].firstChild.nodeValue==AppliedSchool1)
				{
					var major=records[i].getElementsByTagName('Major')[0].firstChild.nodeValue;
/*					console.log(records[i].getElementsByTagName("AppliedSchool")[0].firstChild.nodeValue)
					console.log(records[i].getElementsByTagName('Major')[0].firstChild.nodeValue)*/
					if ($.inArray(major,majors)==-1)
					{
						majors.push(major);
					}
					
					

				}

			}
			majors.forEach(function(item){
				var option=document.createElement('option');
				option.value=item;
				major_list.appendChild(option);
			})

		



    });

	});
	</script>
</body>

</html>
